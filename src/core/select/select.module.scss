$spacing: 0.25rem;

$size: 1rem;
$wrapperSpacing: $spacing * 2;
$iconSpacing: $spacing;

.menu {
  --bs-dropdown-color: var(--ax-theme-dropdown-color, var(--bs-body-color));
  --bs-dropdown-bg: var(--ax-theme-dropdown-bg, var(--bs-body-bg));
  --bs-dropdown-border-color: var(
    --ax-theme-dropdown-border-color,
    var(--bs-border-color-translucent)
  );
  --bs-dropdown-border-radius: var(
    --ax-theme-dropdown-border-radius,
    var(--bs-border-radius)
  );
  --bs-dropdown-border-width: var(
    --ax-theme-dropdown-border-width,
    var(--bs-border-width)
  );
  --bs-dropdown-inner-border-radius: var(
    --ax-theme-dropdown-inner-border-radius,
    calc(var(--bs-dropdown-border-radius) - var(--bs-border-width))
  );
  --bs-dropdown-box-shadow: var(
    --ax-theme-dropdown-box-shadow,
    0 0.5rem 1rem rgba(0, 0, 0, 0.15)
  );
  --bs-dropdown-link-color: var(
    --ax-theme-dropdown-link-color,
    var(--bs-body-color)
  );
  --bs-dropdown-link-hover-color: var(
    --ax-theme-dropdown-link-hover-color,
    var(--bs-body-color)
  );
  --bs-dropdown-link-hover-bg: var(
    --ax-theme-dropdown-link-hover-bg,
    var(--bs-tertiary-bg)
  );
  --bs-dropdown-link-active-color: var(
    --ax-theme-dropdown-link-active-color,
    #fff
  );
  --bs-dropdown-link-active-bg: var(
    --ax-theme-dropdown-link-active-bg,
    var(--bs-primary)
  );
}

.control {
  --ax-input-border: var(
    --ax-theme-input-border,
    1px solid var(--bs-border-color)
  );
  --ax-input-focus-border: var(
    --ax-theme-input-focus-border,
    1px solid var(--bs-primary)
  );
  --ax-input-focus-shadow: var(
    --ax-theme-input-focus-shadow,
    0 0 0 0.25rem rgba(var(--bs-primary-rgb), 0.25)
  );
  --ax-input-invalid-border: var(
    --ax-theme-input-invalid-border,
    1px solid var(--bs-danger)
  );
  --ax-input-invalid-focus-border: var(
    --ax-theme-input-invalid-focus-border,
    1px solid var(--bs-danger)
  );
  --ax-input-invalid-focus-shadow: var(
    --ax-theme-input-invalid-focus-shadow,
    0 0 0 0.25rem rgb(var(--bs-danger-rgb), 0.25)
  );
  --ax-input-border-radius: var(
    --ax-theme-input-border-radius,
    var(--bs-border-radius)
  );
}

.menu {
  margin-top: 4px !important;
  box-shadow: var(--bs-dropdown-box-shadow) !important;
  border: var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color) !important;
  border-radius: var(--bs-dropdown-border-radius) !important;
  background-color: var(--bs-body-bg) !important;
}

.menuList {
  background-color: var(--bs-body-bg) !important;
  border-radius: var(--bs-dropdown-border-radius) !important;
}

.group,
.groupHeading,
.option {
  color: var(--bs-dropdown-link-color) !important;
  background-color: transparent !important;
}

.optionFocus,
.option:focus,
.option:hover {
  color: var(--bs-dropdown-link-hover-color) !important;
  background-color: var(--bs-dropdown-link-hover-bg) !important;
}

.option:active {
  color: var(--bs-dropdown-link-active-color) !important;
  background-color: var(--bs-dropdown-link-active-bg) !important;
}

.input {
  color: var(--bs-body) !important;
}

.control {
  background-color: var(--bs-body-bg) !important;
  border: var(--ax-input-border) !important;
  border-radius: var(--ax-input-border-radius) !important;
  color: var(--bs-body-color) !important;
}

.multiValue {
  background-color: var(--bs-secondary-bg) !important;
}

.multiValue,
.singleValue {
  &,
  > * {
    color: var(--bs-body-color) !important;
  }
}

.multiValue [role="button"]:hover {
  background-color: rgba(var(--bs-danger-rgb), 0.15);
}

.placeholder {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.icons {
  .icon {
    cursor: pointer;
    margin: 0 0.1rem;
    opacity: 0.7;
    &:hover {
      opacity: 1;
    }
  }
}

.control:focus,
.control:focus-within {
  border: var(--ax-input-focus-border) !important;
  box-shadow: var(--ax-input-focus-shadow);
}

.invalid {
  border: var(--ax-input-invalid-border) !important;
}

.invalid:focus,
.invalid:focus-within,
.invalidFocus {
  box-shadow: var(--ax-input-invalid-focus-shadow) !important;
}

@for $i from 1 through 4 {
  .icons-#{$i} {
    input {
      padding-right: (($size + ($iconSpacing * 2)) * $i);
    }
  }

  [dir="rtl"] .icons-#{$i} {
    input {
      padding-left: (($size + ($iconSpacing * 2)) * $i);
    }
  }
}
